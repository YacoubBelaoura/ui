<template>
    <core-menu-item v-bind="$attrs"
        v-on="$listeners">
        <template v-slot:default="{ menu, expandedMenu, menuEvents }">
            <a class="menu-item"
                v-on="menuEvents">
                <span class="icon is-small">
                    <fa fixed-width
                        :icon="menu.icon"/>
                </span>
                <zoom>
                    <span v-if="expandedMenu"
                        class="has-margin-left-small menu-hiding-label">
                        {{ i18n(menu.name) }}
                    </span>
                </zoom>
                <dropdown-indicator class="is-small"
                    :open="menu.expanded"
                    v-if="menu.has_children"/>
                <div class="dropdown-content">
                    <div v-if="!expandedMenu"
                        class="dropdown-item">
                        {{ i18n(menu.name) }}
                    </div>
                </div>
            </a>
        </template>
    </core-menu-item>
</template>

<script>

import { Zoom } from '@enso-ui/transitions';
import { DropdownIndicator } from '@enso-ui/bulma';
import CoreMenuItem from '../../../core/components/menu/MenuItem.vue';

export default {
    name: 'MenuItem',

    components: { Zoom, CoreMenuItem, DropdownIndicator },

    inject: ['i18n'],
};
</script>
